{% extends 'base.html.twig' %}

{% block title %}
	{{ film.title }}
	- Détails
{% endblock %}

{% block body %}
	<div class="container mt-5">

		<div class="row">
			<div class="col-md-6">
				{% if film.imageName %}
					<img src="{{ asset('images/Film/' ~ film.imageName) }}" class="img-fluid" alt="{{ film.title }}">
				{% else %}
					<img src="https://via.placeholder.com/300x200?text=Pas+de+visuel" class="img-fluid" alt="Image non disponible">
				{% endif %}
			</div>
			<div class="col-md-6">
                                <h1>{{ film.title }}</h1>
				<p>
					<strong>Description:</strong>
					{{ film.description }}</p>
				<p>
					<strong>Réalisateur:</strong>
					{{ film.director }}</p>
				<p>
					<strong>Genres:</strong>
					{% for genre in film.genres %}
						{{ genre.nom }}
						{% if not loop.last %},
						{% endif %}
					{% endfor %}
				</p>
				<p>
					<strong>Date de Création:</strong>
					{{ film.createdAt|date('d/m/Y') }}</p>
			</div>
		</div>

		<h2 class="mt-5 mb-4">Séances Disponibles</h2>
		<div class="row">
			{% for seance in film.seances %}
				<div
					class="col-md-4 mb-4">
					<!-- Carte pour chaque séance -->
					<div class="card">
						<div class="card-header">
							Séance le
							{{ seance.dateHeureDebut|date('d/m/Y') }}
						</div>
						<div class="card-body">
							<h5 class="card-title">Horaire:
								{{ seance.dateHeureDebut|date('H:i') }}</h5>
							<p class="card-text">
								<strong>Qualité:</strong>
								{{ seance.qualite }}</p>
							<p class="card-text">
								<strong>Cinéma:</strong>
								{{ seance.salle.cinema.nom }}</p>
							<p class="card-text">
								<strong>Ville:</strong>
								{{ seance.salle.cinema.ville }}</p>
							<p class="card-text">
								<strong>Places Disponibles:</strong>
								{{ seance.placeDisponible }}</p>
							<p class="card-text">
								<strong>Prix:</strong>
								{{ seance.prix }}
								€</p>
							<!-- Bouton pour voir les détails de la séance (ou réserver si nécessaire) -->
							<button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#seanceModal{{ seance.id }}">
								Voir Détails
							</button>
						</div>
					</div>
				</div>
			{% else %}
				<p>Aucune séance disponible pour ce film.</p>
			{% endfor %}
		</div>


	</div>
{% endblock %}
